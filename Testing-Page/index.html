import React, { useState } from 'react';
import { 
  Calendar, 
  MapPin, 
  Clock, 
  Car, 
  Plane, 
  Home, 
  ChevronRight, 
  ExternalLink,
  Info,
  Footprints,
  Ship,
  Anchor
} from 'lucide-react';

const App = () => {
  const [activeDay, setActiveDay] = useState(0);

  // Brand colors & typography constants
  const brand = {
    primary: '#D34716', // Burnt Orange
    secondary: '#357889', // Deep Cyan
    text: '#4C4C4C', // Dark Gray
    lightText: '#757575', // Medium Gray
    bg: '#F7F7F7', // Very Light Gray
    white: '#FFFFFF'
  };

  const itinerary = [
    {
      date: 'Jan 30',
      day: 'Viernes',
      location: 'Santiago de Chile',
      accommodation: {
        name: 'Airbnb Santiago',
        link: 'https://www.airbnb.com/rooms/765625248677366834'
      },
      activities: [
        { type: 'arrival', text: 'Arrive in Chile (7:00 AM - 8:15 AM)' },
        { type: 'leisure', text: 'Fantisilandia Theme Park' },
        { type: 'view', text: 'Cerro San Cristobal City View' },
        { type: 'social', text: 'Lunch/Shower at Keith\'s place' }
      ]
    },
    {
      date: 'Jan 31',
      day: 'Sábado',
      location: 'Punta Arenas → Puerto Natales',
      accommodation: {
        name: 'Puerto Natales Water Nook',
        price: '$559.87 (Total for stay)'
      },
      transport: [
        { type: 'flight', text: 'Santiago to Punta Arenas (3.5hr)' },
        { type: 'car', text: 'Pick up Kia Grand Carnival from Southland Rent-A-Car' },
        { type: 'drive', text: 'Drive to Puerto Natales (3.5hr)' }
      ],
      activities: [
        { type: 'info', text: 'Check-in at Water Nook' }
      ]
    },
    {
      date: 'Feb 1',
      day: 'Domingo',
      location: 'Torres del Paine (East)',
      accommodation: { name: 'Puerto Natales Water Nook' },
      transport: [
        { type: 'drive', text: 'Drive to Welcome Center (1.75hr)' }
      ],
      activities: [
        { type: 'hike', text: 'Base Torres Hike (10 hours - Hard)', link: 'https://www.alltrails.com/trail/chile/magallanes/mirador-torres-del-paine-via-sendero-las-torres-a-chileno' },
        { type: 'hike', text: 'Optional: Mirador Cuernos (Easy)', link: 'https://www.alltrails.com/trail/chile/magallanes/mirador-cuernos' }
      ]
    },
    {
      date: 'Feb 2',
      day: 'Lunes',
      location: 'Puerto Natales → El Chaltén',
      accommodation: { name: 'El Chaltén' },
      transport: [
        { type: 'drive', text: 'Puerto Natales to El Calafate (3.75hr)' },
        { type: 'drive', text: 'El Calafate to El Chaltén (2.5hr)' }
      ],
      activities: [
        { type: 'leisure', text: 'Rest Day / Stop in El Calafate' },
        { type: 'hike', text: 'Perito Moreno Glacier Walks (Paved)', link: 'https://www.alltrails.com/trail/argentina/santa-cruz/sendero-glaciar-perito-moreno' },
        { type: 'tour', text: 'Moreno Spirit Boat Tour (2:45pm)', link: 'https://en.patagoniachic.com/el-calafate/tours/moreno-spirit-short-boat-tour_85.html' }
      ]
    },
    {
      date: 'Feb 3',
      day: 'Martes',
      location: 'El Chaltén → El Calafate',
      accommodation: { name: 'El Calafate Airbnb' },
      transport: [
        { type: 'drive', text: 'Drive to Los Huemules (0.5hr)' },
        { type: 'drive', text: 'Drive back to El Calafate (2.5hr)' }
      ],
      activities: [
        { type: 'hike', text: 'Laguna de los Tres / Fitz Roy', link: 'https://www.alltrails.com/trail/argentina/santa-cruz/laguna-de-los-tres-desde-el-pilar' },
        { type: 'hike', text: 'Cerro Torre / Laguna Capri', link: 'https://www.alltrails.com/trail/argentina/santa-cruz/cerro-torre-laguna-capri-mirador-fitz-roy' }
      ]
    },
    {
      date: 'Feb 4',
      day: 'Miércoles',
      location: 'El Calafate → Punta Arenas',
      accommodation: { 
        name: 'Punta Arenas Airbnb',
        link: 'http://airbnb.com/I/FN57d86a'
      },
      transport: [
        { type: 'drive', text: 'Drive to Rio Gallegos (3hr)' },
        { type: 'drive', text: 'Drive to Punta Arenas (3hr)' }
      ],
      activities: [
        { type: 'leisure', text: 'Lunch in Rio Gallegos' },
        { type: 'hike', text: 'Cabo Virgenes Penguin Hike', link: 'https://www.alltrails.com/trail/argentina/santa-cruz/cabo-virgenes-pinguinera' },
        { type: 'info', text: 'Alt: Return via Puerto Natales for Milodon Caves' }
      ]
    },
    {
      date: 'Feb 5',
      day: 'Jueves',
      location: 'Punta Arenas → Santiago',
      accommodation: { name: 'Santiago' },
      transport: [
        { type: 'flight', text: 'Fly to Santiago (3.5hr)' }
      ],
      activities: [
        { type: 'tour', text: 'Isla Magdalena Penguin Tour', link: 'https://www.soloexpediciones.com/islamagdalena?lang=en' },
        { type: 'leisure', text: 'Museo Regional Salesiano' },
        { type: 'flight', text: 'Red-eye departure back home' }
      ]
    }
  ];

  return (
    <div className="flex flex-col min-h-screen bg-[#F7F7F7] font-sans text-[#4C4C4C]" style={{ fontFamily: 'Verdana, sans-serif' }}>
      {/* Header */}
      <header className="bg-[#4C4C4C] text-white p-6 md:p-10 shadow-lg flex flex-col md:flex-row justify-between items-start md:items-center">
        <div>
          <h1 className="text-3xl md:text-5xl mb-2 text-[#D34716]" style={{ fontFamily: 'Georgia, serif' }}>Patagonia Trip Plan</h1>
          <p className="text-xs md:text-sm opacity-80 uppercase tracking-widest">January - February 2026</p>
        </div>
        <div className="mt-4 md:mt-0 bg-[#357889] px-4 py-2 rounded shadow-inner text-sm font-bold flex items-center">
          <Calendar className="mr-2 w-4 h-4" /> 7 DAYS • CHILE & ARGENTINA
        </div>
      </header>

      <main className="flex-grow flex flex-col md:flex-row p-4 md:p-8 gap-6 max-w-7xl mx-auto w-full">
        {/* Day Selector (Sidebar) */}
        <aside className="w-full md:w-1/3 flex flex-col gap-3">
          <h2 className="text-xl border-b border-gray-300 pb-2 mb-2 flex items-center" style={{ fontFamily: 'Georgia, serif' }}>
             <Clock className="mr-2 text-[#D34716]" /> Timeline
          </h2>
          <div className="grid grid-cols-2 md:grid-cols-1 gap-2">
            {itinerary.map((day, idx) => (
              <button
                key={idx}
                onClick={() => setActiveDay(idx)}
                className={`flex flex-col p-4 rounded-lg transition-all border-l-4 text-left shadow-sm ${
                  activeDay === idx 
                  ? 'bg-white border-[#D34716] ring-1 ring-gray-200' 
                  : 'bg-white/50 border-gray-300 hover:bg-white hover:border-[#357889]'
                }`}
              >
                <span className="text-[10px] font-bold text-[#757575] uppercase tracking-tighter">{day.date} • {day.day}</span>
                <span className={`text-sm font-semibold truncate ${activeDay === idx ? 'text-[#357889]' : ''}`}>
                  {day.location}
                </span>
              </button>
            ))}
          </div>

          <div className="mt-6 p-5 bg-[#357889] text-white rounded-xl shadow-md border-t-4 border-[#D34716]">
            <h3 className="text-lg mb-2 flex items-center" style={{ fontFamily: 'Georgia, serif' }}>
              <Info className="mr-2 w-5 h-5" /> Travel Logistics
            </h3>
            <p className="text-xs leading-relaxed opacity-90 italic">
              Weather in the south is highly variable. Keep gear accessible for quick changes between wind, rain, and sun.
            </p>
          </div>
        </aside>

        {/* Details View */}
        <section className="flex-grow bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200">
          {/* Day Header */}
          <div className="bg-[#F7F7F7] p-6 md:p-8 border-b border-gray-100 flex justify-between items-start">
            <div>
              <div className="flex items-center gap-2 text-[#D34716] font-bold text-xs mb-1">
                <Calendar className="w-3 h-3" />
                {itinerary[activeDay].date} • {itinerary[activeDay].day.toUpperCase()}
              </div>
              <h2 className="text-3xl md:text-4xl text-[#4C4C4C]" style={{ fontFamily: 'Georgia, serif' }}>{itinerary[activeDay].location}</h2>
            </div>
            <div className="hidden md:block">
              <div className="w-14 h-14 bg-[#F2DDCB] rounded-full flex items-center justify-center text-[#D34716]">
                <MapPin size={28} />
              </div>
            </div>
          </div>

          <div className="p-6 md:p-10 space-y-8">
            {/* Accommodation */}
            <div>
              <h3 className="text-[10px] uppercase tracking-[0.2em] font-bold text-[#757575] mb-4 flex items-center">
                <Home className="mr-2 w-4 h-4" /> Basecamp
              </h3>
              <div className="flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-100 hover:border-[#357889] transition-colors group">
                <div>
                  <p className="font-semibold text-base">{itinerary[activeDay].accommodation.name}</p>
                  {itinerary[activeDay].accommodation.price && (
                    <p className="text-xs text-[#757575] mt-1">{itinerary[activeDay].accommodation.price}</p>
                  )}
                </div>
                {itinerary[activeDay].accommodation.link && (
                  <a 
                    href={itinerary[activeDay].accommodation.link} 
                    target="_blank" 
                    rel="noreferrer"
                    className="text-[#357889] hover:text-[#D34716] flex items-center font-bold text-xs underline underline-offset-4 decoration-2"
                  >
                    View Listing <ExternalLink className="ml-1 w-3 h-3" />
                  </a>
                )}
              </div>
            </div>

            {/* Transport (If any) */}
            {itinerary[activeDay].transport && (
              <div>
                <h3 className="text-[10px] uppercase tracking-[0.2em] font-bold text-[#757575] mb-4 flex items-center">
                  <Car className="mr-2 w-4 h-4" /> Transit & Arrival
                </h3>
                <div className="space-y-3">
                  {itinerary[activeDay].transport.map((t, i) => (
                    <div key={i} className="flex items-start gap-4 p-3 bg-white border border-gray-50 rounded-lg hover:border-gray-200 transition-all">
                      <div className="p-2 bg-[#F2DDCB] rounded text-[#D34716]">
                        {t.type === 'flight' ? <Plane size={16} /> : <Car size={16} />}
                      </div>
                      <p className="text-sm pt-1 leading-snug">{t.text}</p>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {/* Activities */}
            <div>
              <h3 className="text-[10px] uppercase tracking-[0.2em] font-bold text-[#757575] mb-4 flex items-center">
                <Footprints className="mr-2 w-4 h-4" /> Daily Itinerary
              </h3>
              <div className="space-y-3">
                {itinerary[activeDay].activities.map((a, i) => (
                  <div key={i} className="flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:bg-gray-50 transition-colors">
                    <div className="flex items-center gap-4">
                      <div className="p-2 bg-gray-100 rounded text-[#357889]">
                        {a.type === 'hike' ? <Footprints size={18} /> : 
                         a.type === 'tour' ? <Ship size={18} /> : 
                         a.type === 'arrival' ? <Plane size={18} /> :
                         <ChevronRight size={18} />}
                      </div>
                      <p className="font-medium text-sm md:text-base">{a.text}</p>
                    </div>
                    {a.link && (
                      <a 
                        href={a.link} 
                        target="_blank" 
                        rel="noreferrer"
                        className="text-[#357889] hover:text-[#D34716] text-xs font-bold underline underline-offset-2"
                      >
                        Details
                      </a>
                    )}
                  </div>
                ))}
              </div>
            </div>
          </div>

          {/* Footer Branding */}
          <div className="mt-auto p-4 bg-gray-50 text-center border-t border-gray-100">
            <p className="text-[9px] uppercase tracking-widest text-[#757575] font-bold">
              Expedition Data Summary • 2026
            </p>
          </div>
        </section>
      </main>
    </div>
  );
};

export default App;
